<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
    <script type="text/javascript"
        src="https://fastly.jsdelivr.net/npm/echarts@5/dist/extension/dataTool.min.js"></script>
    <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts-gl@2/dist/echarts-gl.min.js"></script>
    <script type="text/javascript"
        src="https://fastly.jsdelivr.net/npm/echarts-stat@latest/dist/ecStat.min.js"></script>
    <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@4.9.0/map/js/china.js"></script>
    <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@4.9.0/map/js/world.js"></script>
    <script type="text/javascript"
        src="https://api.map.baidu.com/api?v=2.0&ak=tvm7mKPtGAPjPyu2RU4TO7382csGPpLN"></script>
    <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5/dist/extension/bmap.min.js"></script>
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.0.js"></script>
    <!-- CSS Dependencies -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="css/shards.css">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script crossorigin="anonymous"
        integrity="sha512-pSyYzOKCLD2xoGM1GwkeHbdXgMRVsSqQaaUoHskx/HF09POwvow2VfVEdARIYwdeFLbu+2FCOTRYuiyeGxXkEg=="
        src="https://lib.baomitu.com/vue/2.6.14/vue.js"></script>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script>
    <script src="http://lib.sinaapp.com/js/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript"
        src="https://api.map.baidu.com/api?v=2.0&ak=tvm7mKPtGAPjPyu2RU4TO7382csGPpLN"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <style type="text/css">
        .BMap_cpyCtrl {
            display: none;
        }

        .anchorBL {
            display: none;
        }


        #l-map {
            height: 100%
        }
    </style>
</head>

<body>
    <div id="app">
        <!-- Navbars -->
        <div id="navbars" class="my-n1">


            <div class="example">
                <nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-4">
                    <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                    <img src="images/demo/icon.svg" alt="Example Navbar 1" class="mr-2" height="30">
                    <a class="navbar-brand" href="#">ç”Ÿæ€ç¯å¢ƒé¢†åŸŸçŸ¥è¯†æœåŠ¡å·¥å…·</a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse"
                        data-target="#navbarNavDropdown-1" aria-controls="navbarNavDropdown-1" aria-expanded="false"
                        aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNavDropdown-1">
                        <ul class="navbar-nav mr-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="/index.html">é¦–é¡µ
                                    <span class="sr-only">(current)</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/label.html">è¯­ä¹‰æ ‡æ³¨</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/ner_re.html">ä¿¡æ¯æŠ½å–</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/show_qa.html">çŸ¥è¯†åº”ç”¨</a>
                            </li>
                            <li class="nav-item active">
                                <a class="nav-link" href="/article.html">çŸ¥è¯†å¯è§†åŒ–</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/index.html">è”ç³»æˆ‘ä»¬</a>
                            </li>

                        </ul>

                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link" href="#">
                                    <i class="fa fa-twitter"></i>
                                </a>
                            </li>

                            <li class="nav-item">
                                <a class="nav-link" href="#">
                                    <i class="fa fa-facebook"></i>
                                </a>
                            </li>

                            <li class="nav-item">
                                <a class="nav-link" href="#">
                                    <i class="fa fa-linkedin"></i>
                                </a>
                            </li>

                            <li class="nav-item">
                                <a class="nav-link" href="#">
                                    <i class="fa fa-github"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </nav>

            </div>
        </div>

        <div id="forms" class="row">
            <div class="col-lg-1"></div>
            <div class="section-title col-lg-10 col-md-10">
                <h3 class="mb-12">ç”Ÿæ€ç¯å¢ƒé¢†åŸŸæ€»çŸ¥è¯†å›¾è°±</h3>
                <p>æœ¬åŠŸèƒ½æ¨¡å—å±•ç¤ºäº†æœ¬æ–‡æ„å»ºçš„æ€»çš„çŸ¥è¯†å›¾è°±ï¼Œä»¥åŠé’ˆå¯¹æ±¡æŸ“ç‰©ä¸æ±¡æŸ“æºè¿›è¡Œç©ºé—´å¯è§†åŒ–ã€‚
                </p>
               
            </div>
            <div class="col-lg-1"></div>
            <!-- Form Controls - Simple Forms: Default / Using Icons (Seamless) -->



            <!-- Form Controls: Simple Forms -->























        </div>
        <div class="row" style="display:none">
            <div class="col-lg-1"></div>
            <div class="col-lg-4">

                <input type="text" class="form-control" id="form1-name" placeholder="è¯·è¾“å…¥æ–‡æœ¬"
                    style="display: inline-block;width: 80%" v-model="question">
                <input type="button" style="display: inline-block" value="æé—®" class="btn btn-primary"
                    @click="get_answer(question)">
                <div class="card" style="margin-top: 2%;height: 400px">
                    <button type="button" class="btn btn-outline-primary     btn-pill btn-lg d-table ml-auto mr-auto"
                        data-toggle="modal" data-target="#exampleModal" style="margin-top: 1%;font-weight:bold;">
                        ğŸ‘‡ç­”æ¡ˆğŸ‘‡
                    </button>
                    <p v-text="answer" style="text-align: center;font-size: larger;margin-top: 1%;font-weight:bold;">
                    </p>

                </div>

                
            </div>

            <div class="col-lg-4">


                <div class="card" style="margin-top: 0%;height: 100%;">

                    <div id="l-map" style="border-radius:5px"></div>


                </div>


            </div>
            <div class="col-lg-1"></div>



        </div>

        <div class="row">
            <div class="col-lg-1"></div>
            <div class="col-lg-5">
                <div class="">
                    <div id="graph" style="width: 100%;height:600px;"></div>
                </div>
            </div>
            <div class="col-lg-5">
                <div id="container" style="width:100%;height:600px"></div>
            </div>
            <div class="col-lg-1"></div>
        </div>



    </div>

    </div>


    <script>




        var patter = /['çœ'|'å¸‚'|'åŒº'|'å¿']$/

        //var map = new BMap.Map("l-map")
        var app = new Vue({
            //el:'#app',
            el: '#app',
            data: {
                test: "ğŸ‘‰ç‚¹å‡»æ­¤å¤„å¼€å§‹åŠ è½½ğŸ‘ˆ",
                input_p: "",
                echarts_all_data: [],
                echarts_all_links: [],
                question: "",
                answer: "xxxx",
                valuee: '',


            },
            methods: {
                get_answer: function (q) {
                    var that = this
                    console.log(q)
                    $.ajax({
                        url: "http://115.156.92.42:5000/api/v1/qa",
                        type: "POST",
                        async: false,
                        contentType: 'application/json;charset=utf-8', //è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯
                        data: JSON.stringify({
                            "q": q
                        }),

                        success: function (data) {
                            console.log("---------------------")
                            console.log(data)
                            console.log(data['ret'])
                            if (data['ret'] == 'error') {
                                alert("è¾“å…¥æœ‰è¯¯æˆ–è€…æ— æ³•å›ç­”~")
                                return
                            }
                            that.answer = data['ret']
                            if (data['text'] == 'geo') {
                                that.valuee = data['ret']

                                that.pdd()
                            }



                        },
                        error: function (res) {
                            alert(res.responseText);

                        }
                    });
                },
                get_relations: function () {
                    var that = this
                    that.answer = "ğŸ’ª    æ­£åœ¨å…¨åŠ›åŠ è½½ä¸­ğŸ’ª"
                    var myChart = that.init_chart()
                    myChart.showLoading()
                    $.ajax({
                        url: "http://115.156.92.42:5000/api/v1/kg",
                        type: "POST",
                        async: false,
                        contentType: 'application/json;charset=utf-8', //è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯
                        data: JSON.stringify(''),

                        success: function (data) {
                            console.log("---------------------")
                            console.log(data)
                            that.test = this.data
                            console.log('+++++++++++++++++++')
                            //data = JSON.parse(JSON.stringify(data));
                            that.echarts_all_data = data['data']
                            that.echarts_all_links = data['links']
                            that.set_chart(myChart, data['data'], data['links'])
                        },
                        error: function (res) {
                            alert(res.responseText);

                        }
                    });
                },
                set_chart: function (myChart, data, links) {
                    this.test = "ğŸ˜„åŠ è½½å®Œæˆäº†ğŸ˜„"

                    myChart.hideLoading()

                    console.log(data)
                    console.log(links)
                    option = {
                        title: {
                            text: ''
                        },
                        tooltip: {},
                        animationDurationUpdate: 1500,
                        animationEasingUpdate: 'quinticInOut',
                        label: {
                            normal: {
                                show: true,
                                textStyle: {
                                    fontSize: 12
                                },
                            }
                        },
                        legend: {
                            x: "center",
                            show: true
                        },
                        series: [

                            {
                                //darkMode: true,
                                type: 'graph',
                                layout: 'force',
                                //symbolSize: 10,
                                focusNodeAdjacency: true,
                                roam: true,
                                edgeSymbol: ['none', 'none'],
                                categories: [{
                                    name: 'ç¯å¢ƒæ –æ¯åœ°',
                                    itemStyle: {
                                        normal: {
                                            color: "#009800",
                                        }
                                    }
                                }, {
                                    name: 'æ±¡æŸ“ç‰©',
                                    itemStyle: {
                                        normal: {
                                            color: "#ed1941",
                                        }
                                    }
                                }, {
                                    name: 'æ±¡æŸ“æº',
                                    itemStyle: {
                                        normal: {
                                            color: "#fdb933",
                                        }
                                    }
                                }, {
                                    name: 'æ—¶é—´',
                                    itemStyle: {
                                        normal: {
                                            color: "#4f5555",
                                        }
                                    }
                                }, {
                                    name: 'ç©ºé—´ä¿¡æ¯',
                                    itemStyle: {
                                        normal: {
                                            color: "#4f5555",
                                        }
                                    }
                                }, {
                                    name: 'ç”Ÿç‰©ç¾¤è½',
                                    itemStyle: {
                                        normal: {
                                            color: "#33a3dc",
                                        }
                                    }
                                }, {
                                    name: 'é‡åŒ–ã€è¯„ä»·æŒ‡æ ‡',
                                    itemStyle: {
                                        normal: {
                                            color: "#4f5555",
                                        }
                                    }
                                }, {
                                    name: 'ç”Ÿæ€ç°è±¡ã€è¿‡ç¨‹',
                                    itemStyle: {
                                        normal: {
                                            color: "#4f5555",
                                        }
                                    }
                                }, {
                                    name: 'äººç±»æ´»åŠ¨',
                                    itemStyle: {
                                        normal: {
                                            color: "#4f5555",
                                        }
                                    }
                                }, {
                                    name: 'åˆ†ææ–¹æ³•',
                                    itemStyle: {
                                        normal: {
                                            color: "#4f5555",
                                        }
                                    }
                                }],
                                label: {

                                    show: true,
                                    textStyle: {
                                        position: 'right',
                                        formatter: '{b}'

                                    }
                                },
                                force: {
                                    repulsion: 150,
                                    initLayout: null,
                                    gravity: 0.5,
                                    friction: 0.6,
                                    edgeLength: [50, 400],
                                    layoutAnimation: true
                                },
                                edgeSymbolSize: [4, 10],
                                edgeLabel: {
                                    normal: {
                                        show: false,
                                        textStyle: {
                                            fontSize: 5
                                        },
                                        formatter: "{c}"
                                    }
                                },
                                data: data,
                                links: links,
                                lineStyle: {

                                    opacity: 0.3,
                                    width: 0.1,
                                    curveness: 0,
                                    color: "rgba(255,255,255,1)",

                                }
                            }
                        ]
                    };
                    // ä½¿ç”¨åˆšæŒ‡å®šçš„é…ç½®é¡¹å’Œæ•°æ®æ˜¾ç¤ºå›¾è¡¨ã€‚
                    myChart.setOption(option);

                },
                init_chart: function () {
                    var myChart = echarts.init(document.getElementById('graph'), 'dark');
                    console.log("init echart")
                    var option = {

                    }
                    myChart.setOption(option)

                    return myChart
                },
                dww: function (item) {
                    //value=document.getElementById('value').value;
                    var local = new BMap.LocalSearch(map, {
                        renderOptions: { map: map }
                    });

                    local.setMarkersSetCallback(function (pois) {
                        //map.clearOverlays();//æ¸…é™¤æ‰€æœ‰è¦†ç›–ç‰©åï¼Œåœ¨å åŠ ç¬¬ä¸€ä¸ªç‚¹
                        var marker = new BMap.Marker(pois[0].point);
                        map.addOverlay(marker);
                    })

                    local.search(item);
                    map.clearOverlays();
                },
                getBoundaryy: function (item) {//è·å–è¾¹ç•Œ
                    var bdary = new BMap.Boundary();
                    bdary.get(item, function (rs) {       //è·å–è¡Œæ”¿åŒºåŸŸ
                        //map.clearOverlays();        //æ¸…é™¤åœ°å›¾è¦†ç›–ç‰©
                        var count = rs.boundaries.length; //è¡Œæ”¿åŒºåŸŸçš„ç‚¹æœ‰å¤šå°‘ä¸ª
                        for (var i = 0; i < count; i++) {
                            var ply = new BMap.Polygon(rs.boundaries[i], {
                                strokeWeight: 1,
                                strokeColor: "#ff0000"
                            }); //å»ºç«‹å¤šè¾¹å½¢è¦†ç›–ç‰©
                            map.addOverlay(ply);  //æ·»åŠ è¦†ç›–ç‰©
                            map.setViewport(ply.getPath());    //è°ƒæ•´è§†é‡
                        }
                    });
                },
                pdd: function () {
                    map.centerAndZoom('åŒ—äº¬å¸‚', 10);
                    map.enableScrollWheelZoom();
                    map.clearOverlays();

                    items = this.valuee.split(' ')
                    for (var i = 0; i < items.length; i++) {
                        var item = items[i]
                        if (patter.test(item) == true) {//å…³é”®å­—ç»“å°¾æ˜¯çœå¸‚å¿åŒºå°±è°ƒç”¨ä¸‹é¢æ–¹æ³•
                            this.getBoundaryy(item);
                            this.dww(item);
                            if (/ç¤¾åŒº|å°åŒº$/.test(item) == true) {//å› ä¸ºåŒºåé¢ç»“å°¾ï¼Œä¼šæœ‰å°åŒºå’Œç¤¾åŒºï¼Œå³åšäº†ä¸€ä¸ªå­—æ–¹æ³•
                                this.getBoundaryy(item);
                                this.dww(item);
                            }
                        } else {//å…³é”®å­—ç»“å°¾æ²¡æœ‰çœå¸‚å¿åŒºç»“å°¾å°±è°ƒç”¨æ­¤æ–¹æ³•
                            this.getBoundaryy(item);
                            this.dww(item);
                        }
                    }
                    console.log('ss')
                    this.sleep(this.zooms, 3000);
                },
                zooms: function () {
                    console.log("sss")
                    map.centerAndZoom('å…°å·å¸‚', 1.5);
                    map.enableScrollWheelZoom();
                },
                sleep: function (fun, time) {
                    setTimeout(() => {
                        fun();
                    }, time);
                }
            },
            mounted: function () {
                this.get_relations()
            }

        })
        var map = new BMap.Map("l-map")
        map.centerAndZoom('åŒ—äº¬å¸‚', 10);
        map.enableScrollWheelZoom();
        var mapStyle = { style: "midnight" }
        map.setMapStyle(mapStyle);
        /*
            //åˆå§‹åŒ–åœ°å›¾
            var value='';var map = new BMap.Map("l-map");
            map.centerAndZoom('åŒ—äº¬å¸‚',10);
            map.enableScrollWheelZoom();
        
            //å®šä½åŒºåŸŸï¼Œå°åœ°åï¼Œä½¿ç”¨æœ¬åœ°æ£€ç´¢æ–¹æ³•
            var dw=function(item){
                //value=document.getElementById('value').value;
                var local = new BMap.LocalSearch(map, {
                    renderOptions:{map: map}
                });
        
                local.setMarkersSetCallback(function(pois){
                    //map.clearOverlays();//æ¸…é™¤æ‰€æœ‰è¦†ç›–ç‰©åï¼Œåœ¨å åŠ ç¬¬ä¸€ä¸ªç‚¹
                    var marker = new BMap.Marker(pois[0].point);
                    map.addOverlay(marker);
                })
        
                local.search(item);
                map.clearOverlays();
        
            }
        
            //è·å–è¾¹ç•Œ
            function getBoundary(item){//è·å–è¾¹ç•Œ
                var bdary = new BMap.Boundary();
                bdary.get(item, function(rs){       //è·å–è¡Œæ”¿åŒºåŸŸ
                    //map.clearOverlays();        //æ¸…é™¤åœ°å›¾è¦†ç›–ç‰©
                    var count = rs.boundaries.length; //è¡Œæ”¿åŒºåŸŸçš„ç‚¹æœ‰å¤šå°‘ä¸ª
                    for(var i = 0; i < count; i++){
                        var ply = new BMap.Polygon(rs.boundaries[i], {
                            strokeWeight: 1,
                            strokeColor: "#ff0000"
                        }); //å»ºç«‹å¤šè¾¹å½¢è¦†ç›–ç‰©
                        map.addOverlay(ply);  //æ·»åŠ è¦†ç›–ç‰©
                        map.setViewport(ply.getPath());    //è°ƒæ•´è§†é‡
                    }
                });
            }
        
            //æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ»¡è¶³æ¡ä»¶åè°ƒç”¨
            var patter=/['çœ'|'å¸‚'|'åŒº'|'å¿']$/;
            var pd=function(){
                map.clearOverlays();
                value=document.getElementById('value').value;
                items = value.split(';')
                for(var i = 0;i<items.length;i++){
                    var item = items[i]
                    if(patter.test(item)==true){//å…³é”®å­—ç»“å°¾æ˜¯çœå¸‚å¿åŒºå°±è°ƒç”¨ä¸‹é¢æ–¹æ³•
                        getBoundary(item);
                        dw(item);
                        if(/ç¤¾åŒº|å°åŒº$/.test(item)==true){//å› ä¸ºåŒºåé¢ç»“å°¾ï¼Œä¼šæœ‰å°åŒºå’Œç¤¾åŒºï¼Œå³åšäº†ä¸€ä¸ªå­—æ–¹æ³•
                            getBoundary(item);
                            dw(item);
                        }
                    }else{//å…³é”®å­—ç»“å°¾æ²¡æœ‰çœå¸‚å¿åŒºç»“å°¾å°±è°ƒç”¨æ­¤æ–¹æ³•
                        getBoundary(item);
                        dw(item);
                    }
                }
                console.log('ss')
                sleep(zooms,3000);
        
        
            }
            var zooms=function (){
                console.log("sss")
                map.centerAndZoom('æ­¦æ±‰å¸‚',5);
                map.enableScrollWheelZoom();
            }
        
            // setTimeout
        
            let sleep = function(fun,time){
                setTimeout(()=>{
                    fun();
                },time);
            }
        
        */


    </script>
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <!--<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>-->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"
        integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <script src="js/shards.min.js"></script>
    <script src="js/demo.min.js"></script>
    <div class="card" style="margin-top: 2%">
        <script>
            var data_a = []
            var geo_a = []
            $.ajax({
                url: "http://115.156.92.42:5000/api/v1/kg_geo",
                type: "POST",
                async: false,
                contentType: 'application/json;charset=utf-8', //è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯
                data: JSON.stringify(''),

                success: function (data_ret) {
                    console.log("---------------------")
                    console.log(data_ret)
                    data_a = data_ret[0]
                    geo_a = data_ret[1]
                },
                error: function (res) {
                    alert(res.responseText);
                }
            });

            var dom = document.getElementById('container');
            var myChart = echarts.init(dom, null, {
                renderer: 'canvas',
                useDirtyRect: false
            });
            var app = {};

            var option;

            var data = [
                { name: 'æµ·é—¨', value: 9 },
                { name: 'é„‚å°”å¤šæ–¯', value: 12 },
                { name: 'æ‹›è¿œ', value: 12 },
                { name: 'èˆŸå±±', value: 12 },
                { name: 'é½é½å“ˆå°”', value: 14 },
                { name: 'ç›åŸ', value: 15 },
                { name: 'èµ¤å³°', value: 16 },
                { name: 'é’å²›', value: 18 },
                { name: 'ä¹³å±±', value: 18 },
                { name: 'é‡‘æ˜Œ', value: 19 },
                { name: 'æ³‰å·', value: 21 },
                { name: 'è±è¥¿', value: 21 },
                { name: 'æ—¥ç…§', value: 21 },
                { name: 'èƒ¶å—', value: 22 },
                { name: 'å—é€š', value: 23 },
                { name: 'æ‹‰è¨', value: 24 },
                { name: 'äº‘æµ®', value: 24 },
                { name: 'æ¢…å·', value: 25 },
                { name: 'æ–‡ç™»', value: 25 },
                { name: 'ä¸Šæµ·', value: 25 },
                { name: 'æ”€æèŠ±', value: 25 },
                { name: 'å¨æµ·', value: 25 },
                { name: 'æ‰¿å¾·', value: 25 },
                { name: 'å¦é—¨', value: 26 },
                { name: 'æ±•å°¾', value: 26 },
                { name: 'æ½®å·', value: 26 },
                { name: 'ä¸¹ä¸œ', value: 27 },
                { name: 'å¤ªä»“', value: 27 },
                { name: 'æ›²é–', value: 27 },
                { name: 'çƒŸå°', value: 28 },
                { name: 'ç¦å·', value: 29 },
                { name: 'ç“¦æˆ¿åº—', value: 30 },
                { name: 'å³å¢¨', value: 30 },
                { name: 'æŠšé¡º', value: 31 },
                { name: 'ç‰æºª', value: 31 },
                { name: 'å¼ å®¶å£', value: 31 },
                { name: 'é˜³æ³‰', value: 31 },
                { name: 'è±å·', value: 32 },
                { name: 'æ¹–å·', value: 32 },
                { name: 'æ±•å¤´', value: 32 },
                { name: 'æ˜†å±±', value: 33 },
                { name: 'å®æ³¢', value: 33 },
                { name: 'æ¹›æ±Ÿ', value: 33 },
                { name: 'æ­é˜³', value: 34 },
                { name: 'è£æˆ', value: 34 },
                { name: 'è¿äº‘æ¸¯', value: 35 },
                { name: 'è‘«èŠ¦å²›', value: 35 },
                { name: 'å¸¸ç†Ÿ', value: 36 },
                { name: 'ä¸œè', value: 36 },
                { name: 'æ²³æº', value: 36 },
                { name: 'æ·®å®‰', value: 36 },
                { name: 'æ³°å·', value: 36 },
                { name: 'å—å®', value: 37 },
                { name: 'è¥å£', value: 37 },
                { name: 'æƒ å·', value: 37 },
                { name: 'æ±Ÿé˜´', value: 37 },
                { name: 'è“¬è±', value: 37 },
                { name: 'éŸ¶å…³', value: 38 },
                { name: 'å˜‰å³ªå…³', value: 38 },
                { name: 'å¹¿å·', value: 38 },
                { name: 'å»¶å®‰', value: 38 },
                { name: 'å¤ªåŸ', value: 39 },
                { name: 'æ¸…è¿œ', value: 39 },
                { name: 'ä¸­å±±', value: 39 },
                { name: 'æ˜†æ˜', value: 39 },
                { name: 'å¯¿å…‰', value: 40 },
                { name: 'ç›˜é”¦', value: 40 },
                { name: 'é•¿æ²»', value: 41 },
                { name: 'æ·±åœ³', value: 41 },
                { name: 'ç æµ·', value: 42 },
                { name: 'å®¿è¿', value: 43 },
                { name: 'å’¸é˜³', value: 43 },
                { name: 'é“œå·', value: 44 },
                { name: 'å¹³åº¦', value: 44 },
                { name: 'ä½›å±±', value: 44 },
                { name: 'æµ·å£', value: 44 },
                { name: 'æ±Ÿé—¨', value: 45 },
                { name: 'ç« ä¸˜', value: 45 },
                { name: 'è‚‡åº†', value: 46 },
                { name: 'å¤§è¿', value: 47 },
                { name: 'ä¸´æ±¾', value: 47 },
                { name: 'å´æ±Ÿ', value: 47 },
                { name: 'çŸ³å˜´å±±', value: 49 },
                { name: 'æ²ˆé˜³', value: 50 },
                { name: 'è‹å·', value: 50 },
                { name: 'èŒ‚å', value: 50 },
                { name: 'å˜‰å…´', value: 51 },
                { name: 'é•¿æ˜¥', value: 51 },
                { name: 'èƒ¶å·', value: 52 },
                { name: 'é“¶å·', value: 52 },
                { name: 'å¼ å®¶æ¸¯', value: 52 },
                { name: 'ä¸‰é—¨å³¡', value: 53 },
                { name: 'é”¦å·', value: 54 },
                { name: 'å—æ˜Œ', value: 54 },
                { name: 'æŸ³å·', value: 54 },
                { name: 'ä¸‰äºš', value: 54 },
                { name: 'è‡ªè´¡', value: 56 },
                { name: 'å‰æ—', value: 56 },
                { name: 'é˜³æ±Ÿ', value: 57 },
                { name: 'æ³¸å·', value: 57 },
                { name: 'è¥¿å®', value: 57 },
                { name: 'å®œå®¾', value: 58 },
                { name: 'å‘¼å’Œæµ©ç‰¹', value: 58 },
                { name: 'æˆéƒ½', value: 58 },
                { name: 'å¤§åŒ', value: 58 },
                { name: 'é•‡æ±Ÿ', value: 59 },
                { name: 'æ¡‚æ—', value: 59 },
                { name: 'å¼ å®¶ç•Œ', value: 59 },
                { name: 'å®œå…´', value: 59 },
                { name: 'åŒ—æµ·', value: 60 },
                { name: 'è¥¿å®‰', value: 61 },
                { name: 'é‡‘å›', value: 62 },
                { name: 'ä¸œè¥', value: 62 },
                { name: 'ç‰¡ä¸¹æ±Ÿ', value: 63 },
                { name: 'éµä¹‰', value: 63 },
                { name: 'ç»å…´', value: 63 },
                { name: 'æ‰¬å·', value: 64 },
                { name: 'å¸¸å·', value: 64 },
                { name: 'æ½åŠ', value: 65 },
                { name: 'é‡åº†', value: 66 },
                { name: 'å°å·', value: 67 },
                { name: 'å—äº¬', value: 67 },
                { name: 'æ»¨å·', value: 70 },
                { name: 'è´µé˜³', value: 71 },
                { name: 'æ— é”¡', value: 71 },
                { name: 'æœ¬æºª', value: 71 },
                { name: 'å…‹æ‹‰ç›ä¾', value: 72 },
                { name: 'æ¸­å—', value: 72 },
                { name: 'é©¬éå±±', value: 72 },
                { name: 'å®é¸¡', value: 72 },
                { name: 'ç„¦ä½œ', value: 75 },
                { name: 'å¥å®¹', value: 75 },
                { name: 'åŒ—äº¬', value: 79 },
                { name: 'å¾å·', value: 79 },
                { name: 'è¡¡æ°´', value: 80 },
                { name: 'åŒ…å¤´', value: 80 },
                { name: 'ç»µé˜³', value: 80 },
                { name: 'ä¹Œé²æœ¨é½', value: 84 },
                { name: 'æ£åº„', value: 84 },
                { name: 'æ­å·', value: 84 },
                { name: 'æ·„åš', value: 85 },
                { name: 'éå±±', value: 86 },
                { name: 'æº§é˜³', value: 86 },
                { name: 'åº“å°”å‹’', value: 86 },
                { name: 'å®‰é˜³', value: 90 },
                { name: 'å¼€å°', value: 90 },
                { name: 'æµå—', value: 92 },
                { name: 'å¾·é˜³', value: 93 },
                { name: 'æ¸©å·', value: 95 },
                { name: 'ä¹æ±Ÿ', value: 96 },
                { name: 'é‚¯éƒ¸', value: 98 },
                { name: 'ä¸´å®‰', value: 99 },
                { name: 'å…°å·', value: 99 },
                { name: 'æ²§å·', value: 100 },
                { name: 'ä¸´æ²‚', value: 103 },
                { name: 'å—å……', value: 104 },
                { name: 'å¤©æ´¥', value: 105 },
                { name: 'å¯Œé˜³', value: 106 },
                { name: 'æ³°å®‰', value: 112 },
                { name: 'è¯¸æš¨', value: 112 },
                { name: 'éƒ‘å·', value: 113 },
                { name: 'å“ˆå°”æ»¨', value: 114 },
                { name: 'èŠåŸ', value: 116 },
                { name: 'èŠœæ¹–', value: 117 },
                { name: 'å”å±±', value: 119 },
                { name: 'å¹³é¡¶å±±', value: 119 },
                { name: 'é‚¢å°', value: 119 },
                { name: 'å¾·å·', value: 120 },
                { name: 'æµå®', value: 120 },
                { name: 'è†å·', value: 127 },
                { name: 'å®œæ˜Œ', value: 130 },
                { name: 'ä¹‰ä¹Œ', value: 132 },
                { name: 'ä¸½æ°´', value: 133 },
                { name: 'æ´›é˜³', value: 134 },
                { name: 'ç§¦çš‡å²›', value: 136 },
                { name: 'æ ªæ´²', value: 143 },
                { name: 'çŸ³å®¶åº„', value: 147 },
                { name: 'è±èŠœ', value: 148 },
                { name: 'å¸¸å¾·', value: 152 },
                { name: 'ä¿å®š', value: 153 },
                { name: 'æ¹˜æ½­', value: 154 },
                { name: 'é‡‘å', value: 157 },
                { name: 'å²³é˜³', value: 169 },
                { name: 'é•¿æ²™', value: 175 },
                { name: 'è¡¢å·', value: 177 },
                { name: 'å»ŠåŠ', value: 193 },
                { name: 'èæ³½', value: 194 },
                { name: 'åˆè‚¥', value: 229 },
                { name: 'æ­¦æ±‰', value: 273 },
                { name: 'å¤§åº†', value: 279 }
            ];
            console.log(data)
            data = data_a
            console.log(data)
            var geoCoordMap = {
                æµ·é—¨: [121.15, 31.89],
                é„‚å°”å¤šæ–¯: [109.781327, 39.608266],
                æ‹›è¿œ: [120.38, 37.35],
                èˆŸå±±: [122.207216, 29.985295],
                é½é½å“ˆå°”: [123.97, 47.33],
                ç›åŸ: [120.13, 33.38],
                èµ¤å³°: [118.87, 42.28],
                é’å²›: [120.33, 36.07],
                ä¹³å±±: [121.52, 36.89],
                é‡‘æ˜Œ: [102.188043, 38.520089],
                æ³‰å·: [118.58, 24.93],
                è±è¥¿: [120.53, 36.86],
                æ—¥ç…§: [119.46, 35.42],
                èƒ¶å—: [119.97, 35.88],
                å—é€š: [121.05, 32.08],
                æ‹‰è¨: [91.11, 29.97],
                äº‘æµ®: [112.02, 22.93],
                æ¢…å·: [116.1, 24.55],
                æ–‡ç™»: [122.05, 37.2],
                ä¸Šæµ·: [121.48, 31.22],
                æ”€æèŠ±: [101.718637, 26.582347],
                å¨æµ·: [122.1, 37.5],
                æ‰¿å¾·: [117.93, 40.97],
                å¦é—¨: [118.1, 24.46],
                æ±•å°¾: [115.375279, 22.786211],
                æ½®å·: [116.63, 23.68],
                ä¸¹ä¸œ: [124.37, 40.13],
                å¤ªä»“: [121.1, 31.45],
                æ›²é–: [103.79, 25.51],
                çƒŸå°: [121.39, 37.52],
                ç¦å·: [119.3, 26.08],
                ç“¦æˆ¿åº—: [121.979603, 39.627114],
                å³å¢¨: [120.45, 36.38],
                æŠšé¡º: [123.97, 41.97],
                ç‰æºª: [102.52, 24.35],
                å¼ å®¶å£: [114.87, 40.82],
                é˜³æ³‰: [113.57, 37.85],
                è±å·: [119.942327, 37.177017],
                æ¹–å·: [120.1, 30.86],
                æ±•å¤´: [116.69, 23.39],
                æ˜†å±±: [120.95, 31.39],
                å®æ³¢: [121.56, 29.86],
                æ¹›æ±Ÿ: [110.359377, 21.270708],
                æ­é˜³: [116.35, 23.55],
                è£æˆ: [122.41, 37.16],
                è¿äº‘æ¸¯: [119.16, 34.59],
                è‘«èŠ¦å²›: [120.836932, 40.711052],
                å¸¸ç†Ÿ: [120.74, 31.64],
                ä¸œè: [113.75, 23.04],
                æ²³æº: [114.68, 23.73],
                æ·®å®‰: [119.15, 33.5],
                æ³°å·: [119.9, 32.49],
                å—å®: [108.33, 22.84],
                è¥å£: [122.18, 40.65],
                æƒ å·: [114.4, 23.09],
                æ±Ÿé˜´: [120.26, 31.91],
                è“¬è±: [120.75, 37.8],
                éŸ¶å…³: [113.62, 24.84],
                å˜‰å³ªå…³: [98.289152, 39.77313],
                å¹¿å·: [113.23, 23.16],
                å»¶å®‰: [109.47, 36.6],
                å¤ªåŸ: [112.53, 37.87],
                æ¸…è¿œ: [113.01, 23.7],
                ä¸­å±±: [113.38, 22.52],
                æ˜†æ˜: [102.73, 25.04],
                å¯¿å…‰: [118.73, 36.86],
                ç›˜é”¦: [122.070714, 41.119997],
                é•¿æ²»: [113.08, 36.18],
                æ·±åœ³: [114.07, 22.62],
                ç æµ·: [113.52, 22.3],
                å®¿è¿: [118.3, 33.96],
                å’¸é˜³: [108.72, 34.36],
                é“œå·: [109.11, 35.09],
                å¹³åº¦: [119.97, 36.77],
                ä½›å±±: [113.11, 23.05],
                æµ·å£: [110.35, 20.02],
                æ±Ÿé—¨: [113.06, 22.61],
                ç« ä¸˜: [117.53, 36.72],
                è‚‡åº†: [112.44, 23.05],
                å¤§è¿: [121.62, 38.92],
                ä¸´æ±¾: [111.5, 36.08],
                å´æ±Ÿ: [120.63, 31.16],
                çŸ³å˜´å±±: [106.39, 39.04],
                æ²ˆé˜³: [123.38, 41.8],
                è‹å·: [120.62, 31.32],
                èŒ‚å: [110.88, 21.68],
                å˜‰å…´: [120.76, 30.77],
                é•¿æ˜¥: [125.35, 43.88],
                èƒ¶å·: [120.03336, 36.264622],
                é“¶å·: [106.27, 38.47],
                å¼ å®¶æ¸¯: [120.555821, 31.875428],
                ä¸‰é—¨å³¡: [111.19, 34.76],
                é”¦å·: [121.15, 41.13],
                å—æ˜Œ: [115.89, 28.68],
                æŸ³å·: [109.4, 24.33],
                ä¸‰äºš: [109.511909, 18.252847],
                è‡ªè´¡: [104.778442, 29.33903],
                å‰æ—: [126.57, 43.87],
                é˜³æ±Ÿ: [111.95, 21.85],
                æ³¸å·: [105.39, 28.91],
                è¥¿å®: [101.74, 36.56],
                å®œå®¾: [104.56, 29.77],
                å‘¼å’Œæµ©ç‰¹: [111.65, 40.82],
                æˆéƒ½: [104.06, 30.67],
                å¤§åŒ: [113.3, 40.12],
                é•‡æ±Ÿ: [119.44, 32.2],
                æ¡‚æ—: [110.28, 25.29],
                å¼ å®¶ç•Œ: [110.479191, 29.117096],
                å®œå…´: [119.82, 31.36],
                åŒ—æµ·: [109.12, 21.49],
                è¥¿å®‰: [108.95, 34.27],
                é‡‘å›: [119.56, 31.74],
                ä¸œè¥: [118.49, 37.46],
                ç‰¡ä¸¹æ±Ÿ: [129.58, 44.6],
                éµä¹‰: [106.9, 27.7],
                ç»å…´: [120.58, 30.01],
                æ‰¬å·: [119.42, 32.39],
                å¸¸å·: [119.95, 31.79],
                æ½åŠ: [119.1, 36.62],
                é‡åº†: [106.54, 29.59],
                å°å·: [121.420757, 28.656386],
                å—äº¬: [118.78, 32.04],
                æ»¨å·: [118.03, 37.36],
                è´µé˜³: [106.71, 26.57],
                æ— é”¡: [120.29, 31.59],
                æœ¬æºª: [123.73, 41.3],
                å…‹æ‹‰ç›ä¾: [84.77, 45.59],
                æ¸­å—: [109.5, 34.52],
                é©¬éå±±: [118.48, 31.56],
                å®é¸¡: [107.15, 34.38],
                ç„¦ä½œ: [113.21, 35.24],
                å¥å®¹: [119.16, 31.95],
                åŒ—äº¬: [116.46, 39.92],
                å¾å·: [117.2, 34.26],
                è¡¡æ°´: [115.72, 37.72],
                åŒ…å¤´: [110, 40.58],
                ç»µé˜³: [104.73, 31.48],
                ä¹Œé²æœ¨é½: [87.68, 43.77],
                æ£åº„: [117.57, 34.86],
                æ­å·: [120.19, 30.26],
                æ·„åš: [118.05, 36.78],
                éå±±: [122.85, 41.12],
                æº§é˜³: [119.48, 31.43],
                åº“å°”å‹’: [86.06, 41.68],
                å®‰é˜³: [114.35, 36.1],
                å¼€å°: [114.35, 34.79],
                æµå—: [117, 36.65],
                å¾·é˜³: [104.37, 31.13],
                æ¸©å·: [120.65, 28.01],
                ä¹æ±Ÿ: [115.97, 29.71],
                é‚¯éƒ¸: [114.47, 36.6],
                ä¸´å®‰: [119.72, 30.23],
                å…°å·: [103.73, 36.03],
                æ²§å·: [116.83, 38.33],
                ä¸´æ²‚: [118.35, 35.05],
                å—å……: [106.110698, 30.837793],
                å¤©æ´¥: [117.2, 39.13],
                å¯Œé˜³: [119.95, 30.07],
                æ³°å®‰: [117.13, 36.18],
                è¯¸æš¨: [120.23, 29.71],
                éƒ‘å·: [113.65, 34.76],
                å“ˆå°”æ»¨: [126.63, 45.75],
                èŠåŸ: [115.97, 36.45],
                èŠœæ¹–: [118.38, 31.33],
                å”å±±: [118.02, 39.63],
                å¹³é¡¶å±±: [113.29, 33.75],
                é‚¢å°: [114.48, 37.05],
                å¾·å·: [116.29, 37.45],
                æµå®: [116.59, 35.38],
                è†å·: [112.239741, 30.335165],
                å®œæ˜Œ: [111.3, 30.7],
                ä¹‰ä¹Œ: [120.06, 29.32],
                ä¸½æ°´: [119.92, 28.45],
                æ´›é˜³: [112.44, 34.7],
                ç§¦çš‡å²›: [119.57, 39.95],
                æ ªæ´²: [113.16, 27.83],
                çŸ³å®¶åº„: [114.48, 38.03],
                è±èŠœ: [117.67, 36.19],
                å¸¸å¾·: [111.69, 29.05],
                ä¿å®š: [115.48, 38.85],
                æ¹˜æ½­: [112.91, 27.87],
                é‡‘å: [119.64, 29.12],
                å²³é˜³: [113.09, 29.37],
                é•¿æ²™: [113, 28.21],
                è¡¢å·: [118.88, 28.97],
                å»ŠåŠ: [116.7, 39.53],
                èæ³½: [115.480656, 35.23375],
                åˆè‚¥: [117.27, 31.86],
                æ­¦æ±‰: [114.31, 30.52],
                å¤§åº†: [125.03, 46.58]
            };
            console.log(geoCoordMap)
            geoCoordMap = geo_a
            console.log(geoCoordMap)
            const convertData = function (data) {
                var res = [];
                for (var i = 0; i < data.length; i++) {
                    var geoCoord = geoCoordMap[data[i].name];
                    if (geoCoord) {
                        res.push({
                            name: data[i].name,
                            value: geoCoord.concat(data[i].value)
                        });
                    }
                }
                return res;
            };
            option = {
                backgroundColor: 'transparent',
                title: {
                    text: 'æ±¡æŸ“ç‰©ä¸æ±¡æŸ“æºç©ºé—´åˆ†å¸ƒ',
                    subtext: 'æ•°æ®æ¥è‡ªç”Ÿæ€çº¢çº¿æ€»çŸ¥è¯†å›¾è°±',
                    left: 'center',
                    textStyle: {
                        color: 'white'
                    }
                },
                tooltip: {
                    trigger: 'item'
                },
                bmap: {
                    center: [104.114129, 37.550339],
                    zoom: 5,
                    roam: true,
                    mapStyle: {
                        styleJson: [
                            {
                                featureType: 'water',
                                elementType: 'all',
                                stylers: {
                                    color: '#044161'
                                }
                            },
                            {
                                featureType: 'land',
                                elementType: 'all',
                                stylers: {
                                    color: '#004981'
                                }
                            },
                            {
                                featureType: 'boundary',
                                elementType: 'geometry',
                                stylers: {
                                    color: '#064f85'
                                }
                            },
                            {
                                featureType: 'railway',
                                elementType: 'all',
                                stylers: {
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'highway',
                                elementType: 'geometry',
                                stylers: {
                                    color: '#004981'
                                }
                            },
                            {
                                featureType: 'highway',
                                elementType: 'geometry.fill',
                                stylers: {
                                    color: '#005b96',
                                    lightness: 1
                                }
                            },
                            {
                                featureType: 'highway',
                                elementType: 'labels',
                                stylers: {
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'arterial',
                                elementType: 'geometry',
                                stylers: {
                                    color: '#004981'
                                }
                            },
                            {
                                featureType: 'arterial',
                                elementType: 'geometry.fill',
                                stylers: {
                                    color: '#00508b'
                                }
                            },
                            {
                                featureType: 'poi',
                                elementType: 'all',
                                stylers: {
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'green',
                                elementType: 'all',
                                stylers: {
                                    color: '#056197',
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'subway',
                                elementType: 'all',
                                stylers: {
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'manmade',
                                elementType: 'all',
                                stylers: {
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'local',
                                elementType: 'all',
                                stylers: {
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'arterial',
                                elementType: 'labels',
                                stylers: {
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'boundary',
                                elementType: 'geometry.fill',
                                stylers: {
                                    color: '#029fd4'
                                }
                            },
                            {
                                featureType: 'building',
                                elementType: 'all',
                                stylers: {
                                    color: '#1a5787'
                                }
                            },
                            {
                                featureType: 'label',
                                elementType: 'all',
                                stylers: {
                                    visibility: 'off'
                                }
                            }
                        ]
                    }
                },
                series: [
                    {
                        name: 'æ±¡æŸ“ç‰©/æ±¡æŸ“æº',
                        type: 'scatter',
                        coordinateSystem: 'bmap',
                        data: convertData(data),
                        encode: {
                            value: 2
                        },
                        symbolSize: function (val) {
                            return val[2] / 10;
                        },
                        label: {
                            formatter: '{b}',
                            position: 'right',
                            show:false
                        },
                        itemStyle: {
                            color: '#f4e925',
                            shadowBlur: 5,
                            shadowColor: '#b3f98b'
                        },
                        emphasis: {
                            label: {
                                show: true
                            }
                        }
                    }
                ]
            };

            if (option && typeof option === 'object') {
                myChart.setOption(option);
            }

            window.addEventListener('resize', myChart.resize);
        </script>
</body>

</html>